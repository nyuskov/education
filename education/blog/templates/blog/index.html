{% load static %}
{% load tags %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link href="{% static 'css/styles.css' %}" rel="stylesheet" type="text/css">
        {% if user.is_authenticated %}
            <link href="{% static 'blog/css/pagination.css' %}" rel="stylesheet" type="text/css">
            <link href="{% static 'blog/css/styles.css' %}" rel="stylesheet" type="text/css">
            <script src="{% static 'blog/js/jquery-3.7.1.min.js' %}" type="text/javascript"></script>
            <script type="text/javascript">
                // Pagination variables
                const searchWord = '{{ search }}';
                const currentPageNumber = parseInt('{{ page_obj.number }}');
                const totalPages = parseInt('{{ page_obj.paginator.num_pages }}');
            </script>
            <script src="{% static 'blog/js/main.js' %}" type="text/javascript"></script>
        {% endif %}
        <title>Main</title>
    </head>
    <body>
        <div class="main">
            <div class="header">
                {% if user.is_authenticated %}
                    {% include "nav.html" %}
                    {% include "blog/search.html" %}
                {% endif %}
            </div>
            <div class="content content-blog">
                {% if not user.is_authenticated %}
                    <div class="content__item">
                        <a class="link" href="{% url 'account:signup' %}">Sign Up</a>
                        <p>or</p>
                        <a class="link" href="{% url 'account:signin' %}">Sign In</a>
                    </div>
                {% else %}
                    <p></p>
                    {% for article in page_obj %}
                        {% include "blog/blog_form.html" %}
                    {% endfor %}
                {% endif %}
            </div>
            <div class="pagination">
            </div>
        </div>
    </body>
</html>